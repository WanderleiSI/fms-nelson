{% extends 'base.html' %}
{% block content %}

<div class="my-3 p-3 bg-body rounded shadow-sm">
    <div class="container mt-5">
        <div class="row mt-5">
            <div class="col-md-10">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{% url 'minhas_despesas' %}">Despesas</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Editar despesas</li>
                    </ol>
                </nav>
            </div>
        
            <div class="col-md-2">
                <a href="{% url 'delete_despesa' despesa.id %}" class="btn btn-danger btn-sm">Remover despesa</a>
            </div>
        </div>
    </div>

        <div class="card mt-5">
            <div class="card-body">
                <form action="{% url 'editar_despesa' despesa.id %}" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="">Descrição</label>
                        <input type="text" name="descricao" class="form-control form-control-sm" id="" value="{{val.descricao}}" required>
                    </div>
                    <div class="form-group">
                        <label for="">Categoria</label>
                        <select class="form-control" name="categoria"">
                            <option selected name="categoria" value="{{val.categoria}}">{{val.categoria}}</option>
                            
                            {% for categoria in categorias %} 
                            <option name="categoria" value="{{categoria.nome}}">{{categoria.nome}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="">Valor</label>
                        <input type="number" name="valor" class="form-control form-control-sm" id="" value="{{val.valor}}" required>
                    </div>
                    <div class="form-group">
                        <label for="">Data</label>
                        <input type="date" name="data" class="form-control form-control-sm" value="{{val.data | date:'Y-m-d'}}" required>
                    </div>

                    <input type="submit" value="Atualizar despesa" class="btn btn-primary mt-4 btn-primary-sm">
                </form>    
            </div>
        </div>
</div>
{% endblock %}